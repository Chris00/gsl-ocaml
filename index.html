<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Gsl-ocaml : OCaml bindings to the GSL (GNU Scientific Library)." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Gsl-ocaml</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/mmottl/gsl-ocaml">View on GitHub</a>

          <h1 id="project_title">Gsl-ocaml</h1>
          <h2 id="project_tagline">OCaml bindings to the GSL (GNU Scientific Library).</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/mmottl/gsl-ocaml/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/mmottl/gsl-ocaml/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="gsl-ocaml---gsl-bindings-for-ocaml" class="anchor" href="#gsl-ocaml---gsl-bindings-for-ocaml"><span class="octicon octicon-link"></span></a>GSL-OCaml - GSL-Bindings for OCaml</h1>

<p>This library was written by <a href="http://oandrieu.nerim.net/ocaml">Olivier Andrieu</a>.
This version (gsl-ocaml) contains patches by <a href="http://www.ocaml.info">Markus
Mottl</a> that may be merged into the original distribution
in the future.</p>

<p>GSL-OCaml is an interface to the <a href="http://www.gnu.org/software/gsl">GSL</a>
(GNU scientific library) for the <a href="http://www.ocaml.org">OCaml</a>-language.</p>

<h2>
<a name="requirements" class="anchor" href="#requirements"><span class="octicon octicon-link"></span></a>Requirements</h2>

<p>The platform must not align doubles on double-word addresses, i.e. the C-macro
<code>ARCH_ALIGN_DOUBLE</code> must be undefined in the OCaml C-configuration header in
<code>&lt;caml/config.h&gt;</code>.</p>

<h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<div class="highlight highlight-sh"><pre><span class="nv">$ </span>./configure
<span class="nv">$ </span>make
<span class="nv">$ </span>make install
</pre></div>

<h3>
<a name="configuring-alternative-blas-libraries" class="anchor" href="#configuring-alternative-blas-libraries"><span class="octicon octicon-link"></span></a>Configuring alternative BLAS-libraries</h3>

<p>The underlying GSL-library depends on a C-implementation of the BLAS-library
(Basic Linear Algebra Subroutines).  It comes with its own implementation,
<code>gslcblas</code>, which GSL will link with by default, e.g.:</p>

<div class="highlight highlight-sh"><pre><span class="nv">$ </span>gsl-config --libs
-L/opt/local/lib -lgsl -lgslcblas
</pre></div>

<p>This implementation is usually considerably slower than alternatives like
<a href="http://www.openblas.net">OpenBLAS</a> or <a href="http://math-atlas.sourceforge.net">ATLAS (Automatically Tuned Linear
Algebra Software)</a> or miscellaneous
platform-specific vendor implementations.</p>

<p>If you want GSL-OCaml to link with another BLAS-implementation by
default, you will need to set an environment variable before starting
the build process.  For example, if you are installing the package via
<a href="http://opam.ocamlpro.com">OPAM</a>, you may want to do the following:</p>

<div class="highlight highlight-sh"><pre><span class="nv">$ </span><span class="nb">export </span><span class="nv">GSL_CBLAS_LIB</span><span class="o">=</span>-lopenblas
<span class="nv">$ </span>gsl-config --libs
-L/opt/local/lib -lgsl -lopenblas
<span class="nv">$ </span>opam install gsl-ocaml
</pre></div>

<p>The above shows that after setting the environment variable <code>GSL_CBLAS_LIB</code>,
<code>gsl-config</code> will return the correct linking flags to the build process
of GSL-OCaml.</p>

<p>Note that on Mac OS X GSL-OCaml requires the Apple-specific, highly optimized
vendor library <code>vecLib</code>, which is part of the Accelerate-framework, and will
automatically link with it.</p>

<h2>
<a name="documentation" class="anchor" href="#documentation"><span class="octicon octicon-link"></span></a>Documentation</h2>

<p>Check the <a href="http://www.gnu.org/software/gsl/manual/html_node">GSL manual</a>
to learn more about the GNU Scientific Library.</p>

<p>You can browse the OCaml module interfaces as <code>ocamldoc</code>-generated HTML files
in directory <code>API.docdir</code> after building the documentation with <code>make doc</code>.
It is also available <a href="http://mmottl.github.io/gsl-ocaml/api">online</a>.</p>

<h2>
<a name="usage-hints" class="anchor" href="#usage-hints"><span class="octicon octicon-link"></span></a>Usage Hints</h2>

<h3>
<a name="vectors-and-matrices" class="anchor" href="#vectors-and-matrices"><span class="octicon octicon-link"></span></a>Vectors and Matrices</h3>

<p>There are several data types for handling vectors and matrices.</p>

<ul>
<li><p>Modules <code>Gsl.Vector</code>, <code>Gsl.Vector.Single</code>, <code>Gsl.Vector_complex</code>,
<code>Gsl.Vector_complex.Single</code>, and the corresponding matrix modules use
bigarrays with single or double precision and real or complex values.</p></li>
<li><p>Modules <code>Gsl.Vector_flat</code>, <code>Gsl.Vector_complex_flat</code>, and the corresponding
matrix modules use a record wrapping a regular OCaml float array.  This is
the equivalent of the <code>gsl_vector</code> and <code>gsl_matrix</code> structs in GSL.</p></li>
<li>
<p>Module <code>Gsl.Vectmat</code> defines a sum type with polymorphic variants
that regroups these two representations.  For instance:</p>

<div class="highlight highlight-ocaml"><pre><span class="nn">Gsl</span><span class="p">.</span><span class="nn">Vectmat</span><span class="p">.</span><span class="n">v_add</span> <span class="o">(`</span><span class="nc">V</span> <span class="n">v1</span><span class="o">)</span> <span class="o">(`</span><span class="nc">VF</span> <span class="n">v2</span><span class="o">)</span>
</pre></div>

<p>adds a vector in an OCaml array to a bigarray.</p>
</li>
<li><p>Modules <code>Gsl.Blas Gsl.Blas_flat</code> and <code>Gsl.Blas_gen</code> provide a (quite
incomplete) interface to CBLAS for these types.</p></li>
</ul><h3>
<a name="error-handling" class="anchor" href="#error-handling"><span class="octicon octicon-link"></span></a>ERROR HANDLING</h3>

<p>Errors in GSL functions are reported as exceptions:</p>

<div class="highlight highlight-ocaml"><pre><span class="nn">Gsl</span><span class="p">.</span><span class="nn">Error</span><span class="p">.</span><span class="nc">Gsl_exn</span> <span class="o">(</span><span class="n">errno</span><span class="o">,</span> <span class="n">msg</span><span class="o">)</span>
</pre></div>

<p>You have to call <code>Gsl.Error.init ()</code> to initialize error reporting.  Otherwise,
the default GSL error handler is used and aborts the program, leaving a core
dump (not so helpful with OCaml).</p>

<p>If a callback (for minimizers, solvers, etc.) raises an exception, <code>gsl-ocaml</code>
either returns <code>GSL_FAILURE</code> or <code>NaN</code> to GSL depending on the type of callback.
In either case the original OCaml exception is not propagated.  The GSL
function will either return normally (but probably with values containing
<code>NaN</code>s somewhere) or raise a <code>Gsl_exn</code> exception.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Gsl-ocaml maintained by <a href="https://github.com/mmottl">mmottl</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
